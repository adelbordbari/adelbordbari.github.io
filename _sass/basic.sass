body
  background: $light
  color: $dark
  font-family: $font-family
  font-weight: $font-weight
  font-size: $font-size
  line-height: $line-height
  margin: 0
  min-height: 100vh
  -webkit-text-size-adjust: 100%
  -webkit-font-smoothing: antialiased
  -moz-osx-font-smoothing: grayscale

@media (prefers-color-scheme: dark)
  body
    background: $dark
    color: $light

h1, h2, h3, h4, h5, h6
  font-weight: $heading-weight

b, strong, th
  font-weight: $font-weight + 200

p
  text-align: justify

a
  color: $link-color
  text-decoration: inherit
  &:hover
    text-decoration: underline

header a, footer a, aside a
  color: inherit

header time
  color: reduce(100)

hr
  border: 1px solid reduce(30)
  margin: 2em 0

article:not(:last-of-type)
  border-bottom: 1px solid reduce(14)

blockquote
  font-family: $font-family-serif
  font-size: large
  background: reduce(10)
  border-left: 5px solid #ff0f7b
  padding: 1px 1.5em
  opacity: .75

blockquote, figure
  margin: 1em 0

img
  margin: .5em 0
  display: block
  margin-left: auto
  margin-right: auto
  border-radius: 15px
  max-width: 80%
  height: auto

li
  margin: .25em 0
  
table
  display: inline-block
  max-width: 100%
  overflow-y: scroll
  border-spacing: 1px
  border-radius: 2px
  box-shadow: 0 0 0 1px reduce(12) inset

th, td
  padding: .5em 1em
  box-shadow: 0 0 0 1px reduce(12)

tr:hover, tr:nth-child(odd) td
  background: reduce(4)

pre
  background: reduce(12)
  border-radius: 2px
  font-size: .8em
  margin: 1.5em 0
  padding: .8em 1.2em
  overflow-x: auto

\:not(pre) > code
  font-size: .9em
  background: reduce(15)
  opacity: .7
  border-radius: 2px
  margin: 0 .1em
  padding: .2em .4em

//CUSTOM
#cover-small
  width: 10vw
  display: block
  margin: auto
  border-radius: 5%

#cover
  width: 24vw
  display: block
  margin: auto
  border-radius: 3%

audio
  width: 100%
  border: solid 3px #E0106F
  filter: contrast(95%) saturate(95%)

.recent-played
  display: inline-flex
  align-items: center
  max-width: 100%
  gap: .6em
  padding: .5em .75em
  border-radius: 6px
  box-shadow: 0 0 0 1px reduce(12) inset
  background: reduce(8)
  color: inherit
  white-space: nowrap
  overflow: hidden
  text-overflow: ellipsis

.recent-played--inline
  padding: 0
  box-shadow: none
  background: transparent
  
.recent-played-track
  order: 2
  min-width: 0
  margin: 0
  font-family: $font-family
  font-weight: $font-weight * 1.2
  font-size: .8em
  line-height: 1.2
  overflow: hidden
  text-overflow: ellipsis

.recent-played-track a
  color: inherit
  text-decoration: inherit
  border-bottom: 1px solid reduce(20)
  transition: border-color .15s ease
  &:hover
    text-decoration: underline
    border-bottom-color: currentColor
  &:focus-visible
    outline: 2px solid $link-color
    outline-offset: 2px

.recent-played-art
  order: 3
  margin-left: auto
  width: 40px
  height: 40px
  flex: 0 0 40px
  border-radius: 4px
  object-fit: cover
  box-shadow: 0 0 0 1px reduce(6) inset
  margin: 0

.recent-gif
  width: 16px
  height: 16px
  display: inline-block

.recent-gif--inline
  flex: 0 0 16px
  width: 16px
  height: 16px
  margin: 0 .25em
  display: inline-block

.recent-gif, .recent-gif--inline
  order: 1

  // 1) Outer wrapper: 70% wide, centered
#letterboxd-embed-wrapper-tc
  width: 70%
  max-width: 900px
  margin: 0 auto

// 2) Base layout for the generated embed block
#letterboxd-embed-tc
  display: flex
  flex-direction: column
  gap: 1rem
  width: 100%
  font-size: 1rem

// Each diary entry
#letterboxd-embed-tc .letterboxd-embed-tc-diary-entry
  display: flex
  flex-direction: column
  gap: 1rem
  padding: 0 .5rem

// Poster + text area row
#letterboxd-embed-tc .letterboxd-embed-tc-content
  display: flex
  flex-direction: row
  gap: 1rem
  text-align: left

// Poster image niceties
#letterboxd-embed-tc .letterboxd-embed-tc-poster img
  border-radius: .25rem
  height: auto
  width: auto
  max-width: unset
  display: block

// 3) Make the right-hand text column a 3-col grid:
//    [ Title (flex) | Date (auto) | Rating (auto) ] on one row.
//    The review spans full width below.
#letterboxd-embed-tc .letterboxd-embed-tc-content > div
  display: grid
  grid-template-columns: minmax(0, 1fr) auto auto
  align-items: center
  column-gap: .75rem

// Title (with year) — column 1, single-line with ellipsis
#letterboxd-embed-tc .letterboxd-embed-tc-title
  grid-column: 1
  font-weight: bold
  font-size: 1.1rem
  margin: 0
  line-height: 1.2
  overflow: hidden
  text-overflow: ellipsis
  white-space: nowrap

// Year next to title
#letterboxd-embed-tc .letterboxd-embed-tc-year
  font-weight: normal
  font-size: .8rem
  margin-left: .25rem
  color: #666

// Date — column 2
#letterboxd-embed-tc .letterboxd-embed-tc-date
  grid-column: 2
  font-size: .9rem
  margin: 0
  color: #555
  white-space: nowrap

// Rating — column 3
#letterboxd-embed-tc .letterboxd-embed-tc-rating
  grid-column: 3
  font-size: 1.2rem
  white-space: nowrap
  text-align: right
  color: #ff0f7b // change if you prefer the original green

// Review — full width below the header row, multi-line clamp
#letterboxd-embed-tc .letterboxd-embed-tc-review
  grid-column: 1 / -1
  margin-top: .35rem
  font-size: .9rem
  line-height: 1.5
  color: #555
  display: -webkit-box
  -webkit-line-clamp: 6 // adjust lines as you like
  -webkit-box-orient: vertical
  overflow: hidden
  text-overflow: ellipsis

// Divider with accent
#letterboxd-embed-tc .letterboxd-embed-tc-divider
  border-bottom: 1px solid #ff0f7b

// "more" link alignment
#letterboxd-embed-tc .letterboxd-embed-tc-more
  text-align: left

// 4) Dark mode tweak (review/date/year legibility)
@media (prefers-color-scheme: dark)
  #letterboxd-embed-tc .letterboxd-embed-tc-review
    color: lighten(#ddd, 0%) // keeps your style of helpers; replace if you have $light
  #letterboxd-embed-tc .letterboxd-embed-tc-year,
  #letterboxd-embed-tc .letterboxd-embed-tc-date
    color: #bbb

// 5) Small screens: widen wrapper a bit, keep layout tidy
@media (max-width: 560px)
  #letterboxd-embed-wrapper-tc
    width: 90%

#letterboxd-embed-tc-more
  display: none

#letterboxd-embed-tc-divider
  color: #ff0f7b
